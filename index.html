<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dies Natalis — SMAN 1 Ngadiluwih (Futuristik Elegan)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Particle background -->
  <canvas id="particleCanvas" class="bg-canvas" aria-hidden="true"></canvas>
  <div class="grid-overlay" aria-hidden="true"></div>

  <!-- Robust Loading overlay -->
  <div id="loader" class="loader-wrap" role="status" aria-live="polite">
    <div class="loader-card" role="img" aria-label="Loading Dies Natalis">
      <div class="loader-top">
        <div class="loader-logo">SN1</div>
        <div class="loader-title">DIES NATALIS • SMAN 1 NGADILUWIH</div>
      </div>
      <div class="percent" id="loaderPercent">0%</div>
      <div class="progress"><div id="loaderBar" class="bar"></div></div>
      <div class="loader-note">Memuat aset futuristik, data sekolah, dan panel interaktif...</div>
    </div>
  </div>

  <!-- APP SHELL (hidden until loader selesai) -->
  <div id="app" class="app" aria-hidden="true">
    <header class="site-header">
      <div class="brand" id="brandBtn" tabindex="0" role="button" aria-label="Beranda">
        <div class="logo-mini">SN1</div>
        <div class="brand-text">
          <div class="title">Dies Natalis</div>
          <div class="subtitle">SMAN 1 Ngadiluwih</div>
        </div>
      </div>

      <nav class="main-nav" aria-label="Main menu">
        <button class="nav-btn" data-panel="home">Beranda</button>
        <button class="nav-btn" data-panel="profil">Profil</button>
        <button class="nav-btn" data-panel="sejarah">Sejarah</button>
        <button class="nav-btn" data-panel="denah">Denah 3D</button>
        <button class="nav-btn" data-panel="prestasi">Prestasi</button>
        <button class="nav-btn" data-panel="ajeng">Ajeng</button>
        <button class="nav-btn" data-panel="dj">DJ Lancar</button>
      </nav>

      <div class="header-actions">
        <button id="celebrateBtn" class="accent-btn">Rayakan!</button>
      </div>
    </header>

    <!-- Panels container -->
    <main class="panels" id="panels">
      <!-- HOME -->
      <section id="panel-home" class="panel active" data-name="home" role="region" aria-label="Beranda">
        <div class="panel-inner hero">
          <div class="left">
            <div class="welcome-badge">WELCOME</div>
            <h1>Selamat Dies Natalis <span class="glow">SMAN 1 NGADILUWIH</span></h1>
            <p class="lead">Bersinergi — Berinovasi — Berprestasi. Terus maju, berakar pada nilai kebangsaan, membawa kreativitas ke panggung dunia.</p>
            <div class="cta-row">
              <button class="glass-btn" data-panel="profil">Tentang Sekolah</button>
              <button class="glass-btn" data-panel="ajeng">Tentang Ajeng</button>
              <button class="glass-btn" data-panel="dj">Tentang DJ</button>
            </div>
          </div>
          <div class="right">
            <div class="greeting-card">
              <h3>Ucapan Sambutan</h3>
              <p>Dengan penuh rasa syukur, kami memperingati Dies Natalis SMAN 1 Ngadiluwih — momen refleksi, apresiasi terhadap karya siswa, guru, dan alumni.</p>
              <p class="small">— Kepala Sekolah & Panitia Dies</p>
            </div>
            <div class="mini-stats">
              <div class="stat"><div class="num">1982</div><div class="lbl">Tahun Berdiri</div></div>
              <div class="stat"><div class="num">Drs. H. Budi Santoso, M.Pd</div><div class="lbl">Kepala Sekolah</div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- PROFIL -->
      <section id="panel-profil" class="panel" data-name="profil" role="region" aria-label="Profil">
        <div class="panel-inner">
          <h2>Profil Lengkap — SMAN 1 Ngadiluwih</h2>
          <div class="profile-grid">
            <article class="card">
              <h3>Sejarah & Perkembangan</h3>
              <p>Didirikan 1982, berkembang menjadi institusi komprehensif dengan laboratorium, studio multimedia, dan program unggulan.</p>
            </article>
            <article class="card">
              <h3>Visi & Misi</h3>
              <p><strong>Visi:</strong> Sekolah unggulan berprestasi & berkarakter. <strong>Misi:</strong> Tingkatkan mutu belajar, karakter, inovasi & literasi digital.</p>
            </article>
            <article class="card">
              <h3>Fasilitas & Inovasi</h3>
              <ul>
                <li>Lab IPA & Komputer</li>
                <li>Studio Musik & Ruang Multimedia</li>
                <li>Perpustakaan Digital & Makerspace</li>
                <li>Program kerja sama industri & kampus</li>
              </ul>
            </article>
            <article class="card">
              <h3>Akademik & Kurikulum</h3>
              <p>Kurikulum berbasis proyek, kelas coding, kelas kewirausahaan, dan program akselerasi untuk siswa berprestasi.</p>
            </article>
          </div>
        </div>
      </section>

      <!-- SEJARAH -->
      <section id="panel-sejarah" class="panel" data-name="sejarah" role="region" aria-label="Sejarah">
        <div class="panel-inner">
          <h2>Sejarah Lengkap</h2>
          <div class="timeline">
            <div class="event"><div class="year">1982</div><div class="desc">Pendirian sekolah.</div></div>
            <div class="event"><div class="year">1995</div><div class="desc">Perluasan gedung & lab.</div></div>
            <div class="event"><div class="year">2016</div><div class="desc">Implementasi e-learning & kelas coding.</div></div>
            <div class="event"><div class="year">2023</div><div class="desc">Prestasi provinsi & penguatan kerja sama industri.</div></div>
          </div>
          <div class="sejarah-rich">
            <p>Kepala sekolah berganti beberapa kali; peningkatan kualitas guru; program beasiswa; community outreach; dan proyek kolaborasi seni & teknologi.</p>
          </div>
        </div>
      </section>

      <!-- DENAH -->
      <section id="panel-denah" class="panel" data-name="denah" role="region" aria-label="Denah 3D">
        <div class="panel-inner">
          <h2>Denah 3D Interaktif</h2>
          <div class="denah-wrap">
            <div id="map3d" class="map3d" tabindex="0" aria-label="Denah 3D SMAN 1 Ngadiluwih"></div>
            <div class="map-controls">
              <label><input type="checkbox" id="tiltToggle" checked> Mode 3D</label>
              <button class="glass-btn" id="resetView">Reset View</button>
              <p class="map-instr">Klik & drag denah untuk memutar; klik ruang untuk info.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- PRESTASI -->
      <section id="panel-prestasi" class="panel" data-name="prestasi" role="region" aria-label="Prestasi">
        <div class="panel-inner">
          <h2>Prestasi & Program Unggulan</h2>
          <div class="prestasi-grid">
            <div class="card"><h4>Prestasi Akademik</h4><p>Juara Olimpiade Sains Provinsi; Tim KTI berprestasi.</p></div>
            <div class="card"><h4>Prestasi Seni</h4><p>Juara Tari Provinsi; pameran seni tahunan.</p></div>
            <div class="card"><h4>Program Unggulan</h4><p>Kelas coding, kewirausahaan, workshop multimedia.</p></div>
            <div class="card"><h4>Fasilitas</h4><p>Studio musik, lab komputer, makerspace, perpustakaan digital.</p></div>
          </div>
        </div>
      </section>

      <!-- AJENG -->
      <section id="panel-ajeng" class="panel" data-name="ajeng" role="region" aria-label="Ajeng Febria">
        <div class="panel-inner person-page">
          <div class="hero-person">
            <img src="ajeng.jpg" alt="Ajeng Febria" class="person-photo">
            <div class="person-info">
              <h2>Ajeng Febria</h2>
              <p class="tagline">Ketua OSIS 2025 • Koreografer • Penggerak Komunitas Seni</p>
              <div class="person-actions">
                <button class="glass-btn" onclick="openProfileModal('ajeng')">Lihat Profil Lengkap</button>
                <button class="glass-btn" onclick="openMessagePrompt('ajeng')">Kirim Ucapan</button>
              </div>
            </div>
          </div>
          <div class="person-content">
            <h3>Biografi</h3>
            <p>Ajeng memadukan tradisi dan teknologi dalam karyanya; penggagas festival digital; mentor seni siswa baru.</p>
            <h3>Prestasi</h3>
            <ul>
              <li>Juara Tari Provinsi 2023</li>
              <li>Finalis Debat Bahasa Inggris 2024</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- DJ -->
      <section id="panel-dj" class="panel" data-name="dj" role="region" aria-label="DJ Lancar">
        <div class="panel-inner person-page">
          <div class="hero-person reverse">
            <img src="djlancar.jpg" alt="DJ Lancar" class="person-photo">
            <div class="person-info">
              <h2>DJ Lancar</h2>
              <p class="tagline">Produser • DJ • Penggerak Komunitas Musik</p>
              <div class="person-actions">
                <button class="glass-btn" onclick="openProfileModal('dj')">Lihat Profil Lengkap</button>
                <button class="glass-btn" onclick="openMessagePrompt('dj')">Request Lagu</button>
              </div>
            </div>
          </div>
          <div class="person-content">
            <h3>Perjalanan Musik</h3>
            <p>DJ Lancar menggabungkan EDM & Chill House; aktif mengadakan workshop mixing & produksi.</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div>© 2025 SMAN 1 Ngadiluwih — Dies Natalis Futuristik Elegan</div>
      <div class="footer-meta">Kontak: info@sman1ngadiluwih.sch.id • Tel: (0354) xxxx-xxxx</div>
    </footer>
  </div>

  <!-- Modal template -->
  <template id="modal-template">
    <div class="modal-backdrop" role="dialog" aria-modal="true">
      <div class="modal-card">
        <button class="modal-close" aria-label="Tutup">&times;</button>
        <div class="modal-content"></div>
      </div>
    </div>
  </template>

  <script src="script.js"></script>
</body>
</html>
